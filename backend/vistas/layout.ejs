<!DOCTYPE html>
<html lang="<%= idioma || 'es' %>" data-tema="oscuro">
  <head>
    <%- include('partials/head') %>
    <%- styleWithNonce(`
    body {
      background-color: var(--bg-primary);
      color: var(--text-primary);
    }
    h1, h2, h3 {
      font-family: var(--font-primary);
    }
  `) %>
</head>
  <body>
    <% if (tipo === 'formacion') { %>
      <%- include('partials/header', { tipo: 'formacion' }) %>
    <% } else { %>
      <%- include('partials/header') %>
    <% } %>

    <main>
      <%- body %>
    </main>

    <%- include('partials/footer') %>

    <!-- Script principal -->
    <script
      type="module"
      src="/assets/js/index.js"
      <%= typeof nonce !== 'undefined' ? `nonce="${nonce}"` : "" %>>
    </script>

    <!-- Script adicional opcional -->
    <% if (typeof scriptAdicional !== 'undefined' && scriptAdicional) { %>
      <script
        type="module"
        src="<%= scriptAdicional %>"
        <%= typeof nonce !== 'undefined' ? `nonce="${nonce}"` : "" %>>
      </script>
    <% } %>
  </body>
</html>
